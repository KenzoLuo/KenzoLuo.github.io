---
title: DS2V壁面网格设置bug
date: 2020-05-27
tags: 
- dsmc
---

在利用DS2V模拟Couette流动时，为了减小计算量，流场计算域设置为1:50的长条状，左右方向为周期性边界，上下为固壁边界。在DS2V中，不能直接将计算域的boundary设置为surface，只能将其设置为not in the flow，再在靠近边界的地方添加surface。在Couette算例中，因为上下固壁的尺寸较小，我开始只将壁面用一个段直线来确定。然后模拟结果总是有问题，在上下boundary和surface之间也出现了气体分子，而且流场中的气体分子越来越少，这显然时不符合物理的，通过检查流场信息，发现时因为固壁“破”了。<!--more-->

理论上来说，DSMC计算中的壁面，只在计算分子移动时起作用。若分子移动的过程中遇到了壁面，则计算分子与壁面的相互作用，然后分子再完成时间步剩下时间的移动。通过气体分子与壁面的相互作用，一方面分子更新了其速度、内能等信息，另一方面，分子损失的动量和能量则表现为壁面的摩阻、压强和热流。因此可以推测，对于分子来说，壁面是由何种精度的线段或网格描述[^1]的并不影响其与壁面相互作用的过程。对于壁面，不同精度的壁面，可以得到不同精度的壁面物理量分布。如果只有一个直线段描述，那么热流摩阻等就是这一直线段上的全局统计结果；如果是多个线段，则结果就能以更精细地分布地形式呈现。

对于Couette流动来讲，理论上壁面上摩阻热流的分布是均匀的，并不需要很多网格来增加其分布精度，反过来，过多的网格还需要后处理的时候进行统计平均，带来额为的麻烦。但在DS2V中，过少的网格似乎不能保证其水密性，我将网格增加到7个时，就不会出现这一问题。7个网格是壁面附近流场网格的数量。最终，我用10个网格（线段）来描述下面壁面。应该是DS2V程序的Bug，暂时的解决办法就是适当增加壁面网格数，使其和附近的流场网格数相近，内在的诱因查起来就复杂了，暂且作罢。

[^1]: 这里说的精度是完全不影响其形状的那种，比如一条直线，分成两段还是分成10段。如果是一个圆弧，那么分成段数的多少自然也会影响其形状，这里不考虑这一问题。
